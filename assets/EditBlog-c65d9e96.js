import{l as S,b as x,r as l,e as P,o as c,c as m,f as t,g as p,t as h,h as v,v as g,n as y,w,D as T}from"./index-f9c76e6e.js";import{u as M}from"./blogPosts-50c899e8.js";import{u as D}from"./triggerToast-39a05462.js";const V={class:"container"},Y=["onSubmit"],C=t("h2",null,"Editar Blog",-1),E={key:0},U={key:1},H={class:"me-2 mt-3 col-sm-12"},R=["placeholder"],j={class:"me-2 mt-3 col-sm-12"},q=["placeholder"],z={class:"me-2 mt-3 col-sm-12"},L=["placeholder"],N={class:"me-2 mt-3 col-sm-12"},$={class:"me-2 mt-3 col-sm-12"},I={__name:"EditBlog",props:{isDark:{type:Boolean}},setup(_){const u=S(),b=x(),d=M();let n=l("");l("");const o=l(""),r=l(""),i=l(""),f=l(""),k=s=>{if(!s)return"";const e=s.toDate();return T(e).format("DD/MM/YYYY HH:mm:ss")};P(async()=>{n=await d.leerBlogPost(u.params.id),o.value=await n.titulo,r.value=await n.detalle,i.value=await n.image,f.value=await n.date});const B=async()=>{if(o.value===""){const{triggerToast:s}=D("error");s()}if(o.value!==""){await d.updateBlogPost(u.params.id,o.value,r.value,i.value);const{triggerToast:s}=D("success");s(),b.push("/blog")}};return(s,e)=>(c(),m("div",V,[t("form",{onSubmit:w(B,["prevent"]),class:"input-group input-group-sm mb-3 row"},[C,p(d).loadingDoc?(c(),m("div",E,"Loading docs...")):(c(),m("div",U,[t("span",null,h(p(u).params.id)+" "+h(k(f.value)),1),t("div",H,[v(t("input",{type:"text",class:"form-control",placeholder:o.value,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value=a),required:""},null,8,R),[[g,o.value]])]),t("div",j,[v(t("input",{type:"text",class:"form-control",placeholder:r.value,"onUpdate:modelValue":e[1]||(e[1]=a=>r.value=a)},null,8,q),[[g,r.value]])]),t("div",z,[v(t("input",{type:"text",class:"form-control",placeholder:i.value,"onUpdate:modelValue":e[2]||(e[2]=a=>i.value=a)},null,8,L),[[g,i.value]])]),t("div",N,[t("button",{type:"submit",class:y(["btn w-100",_.isDark?"btn-outline-primary  bd-dark ":"btn-primary"])},"Save",2)]),t("div",$,[t("button",{type:"",onClick:e[3]||(e[3]=w(a=>p(b).go(-1),["prevent"])),class:y(["btn w-100",_.isDark?"btn-outline-primary  bd-dark ":"btn-danger"])},"Cancel",2)])]))],40,Y)]))}};export{I as default};
