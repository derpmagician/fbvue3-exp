import{m as S,h as x,r as l,o as P,a as c,c as m,b as t,e as p,t as f,j as v,v as g,n as y,w,E as T}from"./index-4c9da3b4.js";import{u as M}from"./blogPosts-1696c3e6.js";import{u as k}from"./triggerToast-50531c4e.js";const E={class:"container"},V=["onSubmit"],Y=t("h2",null,"Editar Blog",-1),C={key:0},U={key:1},j={class:"me-2 mt-3 col-sm-12"},H=["placeholder"],R={class:"me-2 mt-3 col-sm-12"},q=["placeholder"],z={class:"me-2 mt-3 col-sm-12"},L=["placeholder"],N={class:"me-2 mt-3 col-sm-12"},$={class:"me-2 mt-3 col-sm-12"},I={__name:"EditBlog",props:{isDark:{type:Boolean}},setup(_){const u=S(),b=x(),d=M();let n=l("");l("");const o=l(""),r=l(""),i=l(""),h=l(""),B=s=>{if(!s)return"";const e=s.toDate();return T(e).format("DD/MM/YYYY HH:mm:ss")};P(async()=>{n=await d.leerBlogPost(u.params.id),o.value=await n.titulo,r.value=await n.detalle,i.value=await n.image,h.value=await n.date});const D=async()=>{if(o.value===""){const{triggerToast:s}=k("error");s()}if(o.value!==""){await d.updateBlogPost(u.params.id,o.value,r.value,i.value);const{triggerToast:s}=k("success");s(),b.push("/blog")}};return(s,e)=>(c(),m("div",E,[t("form",{onSubmit:w(D,["prevent"]),class:"input-group input-group-sm mb-3 row"},[Y,p(d).loadingDoc?(c(),m("div",C,"Loading docs...")):(c(),m("div",U,[t("span",null,f(p(u).params.id)+" "+f(B(h.value)),1),t("div",j,[v(t("input",{type:"text",class:"form-control",placeholder:o.value,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value=a),required:""},null,8,H),[[g,o.value]])]),t("div",R,[v(t("input",{type:"text",class:"form-control",placeholder:r.value,"onUpdate:modelValue":e[1]||(e[1]=a=>r.value=a)},null,8,q),[[g,r.value]])]),t("div",z,[v(t("input",{type:"text",class:"form-control",placeholder:i.value,"onUpdate:modelValue":e[2]||(e[2]=a=>i.value=a)},null,8,L),[[g,i.value]])]),t("div",N,[t("button",{type:"submit",class:y(["btn w-100",_.isDark?"btn-outline-primary  bd-dark ":"btn-primary"])},"Save",2)]),t("div",$,[t("button",{type:"",onClick:e[3]||(e[3]=w(a=>p(b).go(-1),["prevent"])),class:y(["btn w-100",_.isDark?"btn-outline-primary  bd-dark ":"btn-danger"])},"Cancel",2)])]))],40,V)]))}};export{I as default};
